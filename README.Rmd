# Extract Tables from PDFs #

**tabulizer** provides R bindings to the [Tabula java library](https://github.com/tabulapdf/tabula-java/), which can be used to computationaly extract tables from PDF documents.

Note: tabulizer is released under the MIT license, as is Tabula itself.

## Code Examples ##

There is currently only one function:

```R
library("tabulizer")
f <- system.file("examples", "data.pdf", package = "tabulizer")
out1 <- extract_tables(f)
str(out1)
## List of 4
##  $ : chr [1:32, 1:10] "mpg" "21.0" "21.0" "22.8" ...
##  $ : chr [1:7, 1:5] "Sepal.Length " "5.1 " "4.9 " "4.7 " ...
##  $ : chr [1:7, 1:6] "" "145 " "146 " "147 " ...
##  $ : chr [1:15, 1] "supp" "VC" "VC" "VC" ...
```

By default, it returns the most table-like R structure available: a matrix. It can also write the tables to disk or attempt to coerce them to data.frames usin the `method` argument. It is also possible to select tables from only specified pages using the `pages` argument.

```R
out2 <- extract_tables(f, pages = 1, guess = FALSE, method = "data.frame")
List of 1
 $ :'data.frame':       33 obs. of  13 variables:
  ..$ X   : chr [1:33] "Mazda RX4 " "Mazda RX4 Wag " "Datsun 710 " "Hornet 4 Drive " ...
  ..$ mpg : num [1:33] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
  ..$ cyl : num [1:33] 6 6 4 6 8 6 8 4 4 6 ...
  ..$ X.1 : int [1:33] NA NA NA NA NA NA NA NA NA NA ...
  ..$ disp: num [1:33] 160 160 108 258 360 ...
  ..$ hp  : num [1:33] 110 110 93 110 175 105 245 62 95 123 ...
  ..$ drat: num [1:33] 3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
  ..$ wt  : num [1:33] 2.62 2.88 2.32 3.21 3.44 ...
  ..$ qsec: num [1:33] 16.5 17 18.6 19.4 17 ...
  ..$ vs  : num [1:33] 0 0 1 1 0 1 0 1 1 1 ...
  ..$ am  : num [1:33] 1 1 1 0 0 0 0 0 0 0 ...
  ..$ gear: num [1:33] 4 4 4 3 3 3 3 4 4 4 ...
  ..$ carb: int [1:33] 4 4 1 1 2 1 4 2 2 4 ...
```

It should also be possible to specify smaller areas within pages to look for tables using the `area` and `columns` arguments.

## Installation ##

[![CRAN](http://www.r-pkg.org/badges/version/tabulizer)](http://cran.r-project.org/package=tabulizer)
[![Build Status](https://travis-ci.org/leeper/tabulizer.png?branch=master)](https://travis-ci.org/leeper/tabulizer)
[![codecov.io](http://codecov.io/github/leeper/tabulizer/coverage.svg?branch=master)](http://codecov.io/github/leeper/tabulizer?branch=master)

tabulizer depends on [rJava](https://cran.r-project.org/package=rJava), which implies a system requirement for Java. This can be frustrating, especially on Windows. My preferred setup routine is to use [Chocolatey](https://chocolatey.org/) to obtain, configure, and update Java (see instructions below). You need do this before installing rJava or attempting to use tabulizer.

tabulizer is not yet on CRAN. To install the latest development version you can:

```R
if(!require("ghit")){
    install.packages("ghit")
}
ghit::install_github("leeper/tabulizer", INSTALL_opts = "--no-multiarch")
```

### Installing Java on Windows with Chocolatey ###

In command prompt, install Chocolately if you don't already have it:

```
@powershell -NoProfile -ExecutionPolicy Bypass -Command "iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))" && SET PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin
```

Then, install java:

```
choco install jdk7 -y
```

You should now be able to safely use rJava and tabulizer.
